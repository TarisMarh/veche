<?xml version="1.0"
      encoding="utf-8"
?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Проект Вече</title>
<meta name="generator" content="http://txt2tags.sf.net" />
</head>
<body bgcolor="white" text="black">
<div align="center">
<h1>Проект Вече</h1>
</div>

<h1>0. Как работать с документом</h1>
<p>
Для написания этого текста используется формат <a href="http://txt2tags.org/">txt2tags</a>, Который представляет из себя простой текст с минимальным форматированием. Для обозначения различных способов форматировния используется один из общепринятых способов обозначения форматировани: двойной подчерк - для обозначения подчёриквания, двойная косая черта для наклонного шрифта, двойная звёздочка - для жирного и так далее. Полное описание формата на русском языке можно посмотреть <a href="http://txt2tags.org/ru/markup-ru.html">здесь</a>. К сожалению, на эту страницу нет ссылки с основного сайт. Или она очень хорошо закопана.
</p>
<p>
Для преобразования исходного документа в другие форматы (простой текст, HTML, PDF и другие) используется программа на языке Python - <a href="http://txt2tags.org/download.html">txt2tags</a>. Практически во всех дистрибутивах Linux и дригих *nix интерпретатор этого языка уже установлен, да и сама эта программа может присутствовать в репозитарии, а пользователям Windows нужно будет скачать и установить интерпретатор. Например, с <a href="http://python.org/download/">официального сайта</a> разработчиков этого языка или бесплатную коммерческую версию <a href="http://www.activestate.com/activepython/downloads">ActivePython</a> с сайта ActiveState. Возможно, есть ещё какие-то, но я не искал - мне как-то без надобности.
</p>
<p>
Основным является документ README.t2t, остальные сохраняются только для удобства чтения. Для преобразования документа сразу во все форматы, сохраняемые в репозитарий, используется скрипт <i>makedoc</i>. Желающие могут добавть и другие варианты.
</p>
<p>
Обсуждение ведётся в рассылке <a href="mailto:veche@googlegroups.com">veche@googlegroups.com</a> (подписаться можно <a href="https://groups.google.com/group/veche">здесь</a>) и в ЖЖ автора проекта по тэгу <a href="http://taris-marh.livejournal.com/tag/veche">veche</a>.
</p>
<h1>1. Цели</h1>
<p>
Целью проекта является создание и поддержка площадки для общественного контроля над муниципальными структурами управления. На первом этапе предполагается создание возможности для отслеживания общественных слущаний, информация о которых усиленно закапывается в глубины сайта городской администрации вместо вывешивания на главной странице или на специальной странице, на которую ведёт ссылка с главной странице. Собственно, функцию это специальной страницы я и попытаюсь реализовать.
</p>
<h1>2. Задачи</h1>
<ol>
<li>Публикация тем общественных слушаний (и вообще любых подобных проблем), полной сопутствующей информации (зеркалирование на сайт документов, аудио и видеозаписей), публикация новостей по слушаниям.
</li>
<li>Хранение истории изменений всех относящихся к теме документов, чтобы можно было отслеживать телодвижения заинтересованных сторон.
</li>
<li>Обеспечение возможности общения по заявленным слушаниям. Высказывания на сайте должно быть возможно с использованием OpenID.
</li>
<li>Уведомления о новых собитиях.
</li>
<li>Срочные уведомления в случае неожиданных изменений.
</li>
<li>Предоставлять возможность голосования по проблеме. Желательно даже, чтобы оно имело какую-то юридически признанную форму, принимаемую к рассмотрению. То есть голосование поимённое, никаких безликих студентов, никаких выдуманных персонажей, только настоящие граждане, проживающие в городе. Город должен знать своих героев. Для голосования OpenID недостаточно, должна быть процедура однозначной идентификации личности. Фотография морды лица и развёрнутый паспорт в одном кадре? И привязка при голосовании к паспорту. Город же должен знать своих героев.
</li>
</ol>

<h1>3. Концепция хранения данных</h1>
<p>
Основными объектами хранения являются:
</p>
<ul>
<li>тема (слушание);
</li>
<li>документ, относящийся к теме;
</li>
<li>история документа;
</li>
<li>комментарии к документу;
</li>
<li>комментарии к теме  ;
</li>
<li>результаты голосования по  теме;
</li>
<li>история результатов голосования.
</li>
</ul>

<p>
Вероятно, стоит сделать тему слушания разновидностью документа, не имеющего оригинала. Документ хранится одновременно в формате (X)HTML или txt2tags и в исходном формате (чаще всего, это doc/docx/rtf). Преобразование исходного документа в человекочитаемый формат произодится полностью автоматически, чтобы можно было иметь однозначные читаемые различия между версиями документа.
</p>
<p>
Каждый документ является заглавным сообщением темы обсуждения, таким образом получается что-то среднее между блогом и форумом. Каким-то образом надо срастить эту систему с форумом, чтобы можно было обсуждать и технические вопросы, не привязанные к конкретным темам.
</p>
<p>
Предлагаемая структура базы данных в том, что касается документов:
</p>
<ol>
<li><b>Тема</b> - вопрос выставленный на слушание
    <ol>
    <li>ID вопроса
    </li>
    <li>заголовок вопроса
    </li>
    <li>текст вопроса (t2t)
    </li>
    </ol>
</li>
<li><b>Документ</b>. Содержит:
    <ol>
    <li>представление документа для непосредственного отображение, чтения, сравнения (txt, html, txt2tags, что-то ещё?)
    </li>
    <li>ссылку на оригинал/сам документ в бинарном поле BLOB (пока неясно, как будет удобнее)
    </li>
    <li>ссылку родительский документ (тему)
    </li>
    <li>служебную информацию
    </li>
    </ol>
</li>
<li><b>Сообщение</b> (комментарии, высказывания) по документу
    <ol>
    <li>ссылка на родительский документ
    </li>
    <li>ссылка на родительское сообщение (<i>опционально</i>, только если предусматривать древовидную структуру комментариев)
    </li>
    <li>текст сообщения
    </li>
    </ol>
</li>
<li><b>История документа</b>
    <ol>
    <li>номер версии
    </li>
    <li>ссылка на последнюю версию документа (id)
    </li>
    <li>читаемое представление версии документа
    </li>
    <li>ссылка на версию документа (версия документа в исходном виде в BLOB)
    </li>
    </ol>
</li>
</ol>

<h1>4. Пользовательский интерфейс</h1>
<h2>Главная страница</h2>
<p>
На главной странице отображаются темы, с самыми поздними изменениями и новости. При внесении изменения в тему, комментарий к этому изменению автоматически отображается в виде новости (из него формируется новость). Так же там должны отображаться:
</p>
<ol>
<li>календарь;
</li>
<li>поисковая форма;
</li>
<li>рубрикатор;
</li>
<li>ссылка на RSS/Atom агрегатор;
</li>
<li>формы для подписки на рассылки по почте и SMS.
</li>
</ol>

<p>
Тема состоит из заголовка, текстового описания ()
</p>
<h2>Страница темы</h2>
<ol>
<li>заголовок темы;
</li>
<li>краткое описание темы;
</li>
<li>список основных документов;
</li>
<li>ссылка на полный список документов, если их много;
</li>
<li>последние события по теме (в том же формате, что и новости на главной, по сути, это те же новости, только выборочно, по теме);
</li>
<li>последние комментарии по теме;
</li>
</ol>

<p></p>
<h2>Страница документа</h2>
<p>
Возможно в двух вариантах: документ в HTML + ссылка на сохранённый оригинал + ссылка на оригинальный документ на исходном месте или крактое описание документа и ссылки на HTML, оригинал, оригинал в исходном месте. Ссылка на оригинал в исходном месте в обоих случаях сопровождается статусом доступоности и изменений. Ссылка на сохранённый оригинал сопровождается номером версии, являющимся ссылкой на систему контроля версий.
</p>

<!-- xhtml code generated by txt2tags 2.5 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -t xhtml -o README.html README.t2t -->
</body></html>
